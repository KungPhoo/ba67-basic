10 SCNCLR
11 GOSUB 3000:REM HELP 
20 REM SPRITE EDITOR
30 CDEF$ = "p"
40 CRX=0:REM CURSOR POS.
50 CRY=0
60 DIM MAT$(8,8)
65 DIM BITS%(8) : REM MAX. 8X32BITS
70 GOSUB 500 : REM CLEAR MAT$
80 CHAR 0,0,0,"" 
85 COLOR 0,12:COLOR 5,14 
90 LET LINE$=""
100 FOR Y=0 TO 7
110 LINE$="" 
120 FOR X=0 TO 7
130 LINE$=LINE$ + MAT$(X,Y)
140 NEXT
150 PRINT LINE$
160 NEXT
170 CHAR 0,CRX,CRY,"#"
180 CHAR 0, 0,9,""
190 GOSUB 1000:GOSUB 2000
200 REM CURSOR MOVEMENT
210 GET K$: IF K$="" THEN 200
220 IF K$=CHR$(157) THEN CRX=MOD(CRX+7, 8)
230 IF K$=CHR$( 29) THEN CRX=MOD(CRX+1, 8)
240 IF K$=CHR$(145) THEN CRY=MOD(CRY+7, 8)
250 IF K$=CHR$( 17) THEN CRY=MOD(CRY+1, 8)                 
260 IF K$=" " THEN GOSUB 400
270 IF K$="h" THEN GOSUB 3000 
280 IF K$="+" THEN CDEF$=CHR$(ASC(CDEF$)+1)
290 IF K$="-" THEN CDEF$=CHR$(ASC(CDEF$)-1) 
291 IF K$=CHR$(133) THEN CDEF$=CHR$(ASC(CDEF$)-BLOCKSIZE)
292 IF K$=CHR$(134) THEN CDEF$=CHR$(ASC(CDEF$)+BLOCKSIZE)
300 GOTO 80  
400 REM TOGGLE BIT SUB
410 IF MAT$(CRX, CRY)=" " THEN LET MAT$(CRX,CRY)="*":RETURN
420 MAT$(CRX,CRY)=" "     
430 RETURN
500 REM CLEAR BITS
510 FOR X=0 TO 7
520 
530 FOR Y=0 TO 7 
540 MAT$(X,Y)="*"
550 NEXT
560 NEXT
570 RETURN
1000 REM PRINT MONO-BYTES
1020 I64%=1
1030 FOR Y=0 TO 7
1040 FOR X=0 TO 7
1050 I64%= I64%*2
1060 IF MAT$(X,Y)="*" THEN I64%=I64%+1
1070 NEXT
1080 NEXT
1085 CHAR 0, 0, 19,"BYTES:" 
1090 CHAR 0,0,20,"$"+HEX$(I64%) 
1095 CHARDEF CDEF$, I64%
1100 RETURN
2000 REM PRINT CHAR PAGE FOR
2010 REM CHAR CDEF$
2011 COLOR 0,12
2020 BLOCKSX=16
2030 BLOCKSY=16
2040 BLOCKSIZE = BLOCKSX*BLOCKSY
2050 CBLOCK = INT(ASC(CDEF$)/BLOCKSIZE)
2060 CBLOCK=CBLOCK*BLOCKSIZE           
2065 A$="$"+RIGHT$(HEX$(CBLOCK),4)+"-$"+RIGHT$(HEX$(CBLOCK+BLOCKSIZE-1),4  
2066 CHAR 0,22,0,A$
2070 FOR Y=0 TO BLOCKSY-1
2080 FOR X=0 TO BLOCKSX-1
2085 COLOR 5,1+((X+Y*BLOCKSX+CBLOCK)    <> ASC(CDEF$))*-11  
2090 CHAR 2,X+22,Y+1,CHR$(CBLOCK+X+Y*BLOCKSX),1
2100 NEXT
2110 NEXT
2180 COLOR 5,14:COLOR 0,12 
2190 CHAR ,22,BLOCKSY+3,CDEF$+" = CHR$($"+RIGHT$(HEX$(ASC(CDEF$)),4)+")"     
2990 RETURN
3000 REM HELP SCREEN 
3010 PRINT "press space to toggle"
3020 PRINT "the character bit." 
3030 PRINT "H: HELP"
3040 PRINT "+: NEXT CHARACTER"
3050 PRINT "-: PREV.CHARACTER"
3060 PRINT "F1/F2: CHAR PAGE"
3097 PRINT "PRESS KEY"
3098 GET K$:IF K$="" THEN 3098
3099 SCNCLR:RETURN
